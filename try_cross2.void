{ v_import("libvoidc.void"); }
{
//    voidc_set_target_triple("armv7a-unknown-linux-gnueabihft64");
//    voidc_set_target_sysroot("/usr/armv7a-unknown-linux-gnueabihft64");

    voidc_set_target_triple("aarch64-unknown-linux-gnu");
    voidc_set_target_sysroot("/usr/aarch64-unknown-linux-gnu");

    voidc_make_module("hello");
}
//---------------------------------------------------------------------
{
    v_import("cstdio.void");
}


//---------------------------------------------------------------------
//- ...
//---------------------------------------------------------------------
A = 154476802108746166441951315019919837485664325669565431700026634898253202035277999;
B =  36875131794129999827197811565225474825492979968971970996283137471637224634055579;
C =   4373612677928697257861252602371390152816537558161613618621437993378423467772036;

//---------------------------------------------------------------------
num_t = uint(800);          //- Sic !!!

//---------------------------------------------------------------------
private
check_num: (a: num_t, b: num_t, c: num_t) ~> bool  =
{
    ab = a + b;     ac = a + c;     bc = b + c;

    a*ab*ac + b*ab*bc + c*ac*bc == 4*ab*ac*bc
};


//---------------------------------------------------------------------
//- As is...
//---------------------------------------------------------------------
main: (argc: int, argv: **const char) ~> int
{
    printf("Hello world!\n");

    if (check_num(A, B, C)) printf("\nOK\n");
    else                    printf("\nFail\n");
}


//---------------------------------------------------------------------
{ voidc_emit_module("/tmp/hello.o"); }
//---------------------------------------------------------------------


//---------------------------------------------------------------------
{
    system: (*const char) ~> int;

//    system("armv7a-unknown-linux-gnueabihft64-gcc /tmp/hello.o -o /tmp/hello");
//
//    system("qemu-arm -L /usr/armv7a-unknown-linux-gnueabihft64 /tmp/hello");

    system("aarch64-unknown-linux-gnu-gcc /tmp/hello.o -o /tmp/hello");

    system("qemu-aarch64 -L /usr/aarch64-unknown-linux-gnu /tmp/hello");
}




